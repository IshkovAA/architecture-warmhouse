<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="708px" preserveAspectRatio="none" style="width:1402px;height:708px;background:#FFFFFF;" version="1.1" viewBox="0 0 1402 708" width="1402px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="419.2139" x="534.5381" y="258.041"/><rect fill="none" height="146.1973" style="stroke:#000000;stroke-width:1.5;" width="669.2217" x="284.5303" y="392.2383"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="81.4883" y2="627.0566"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="346.5303" x2="346.5303" y1="81.4883" y2="627.0566"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="589.5381" x2="589.5381" y1="81.4883" y2="627.0566"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="916.8193" x2="916.8193" y1="81.4883" y2="627.0566"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1164.0474" x2="1164.0474" y1="81.4883" y2="627.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="5" y="78.5352">User</text><ellipse cx="23.1826" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.1826,21.5 L23.1826,48.5 M10.1826,29.5 L36.1826,29.5 M23.1826,48.5 L10.1826,63.5 M23.1826,48.5 L36.1826,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.3652" x="5" y="639.5918">User</text><ellipse cx="23.1826" cy="651.0449" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.1826,659.0449 L23.1826,686.0449 M10.1826,667.0449 L36.1826,667.0449 M23.1826,686.0449 L10.1826,701.0449 M23.1826,686.0449 L36.1826,701.0449 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.8818" x="294.5303" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8818" x="301.5303" y="70.5352">DeviceService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.8818" x="294.5303" y="626.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8818" x="301.5303" y="646.5918">DeviceService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.6973" x="544.5381" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.6973" x="551.5381" y="70.5352">UserService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91.6973" x="544.5381" y="626.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.6973" x="551.5381" y="646.5918">UserService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51.9326" x="891.8193" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="898.8193" y="70.5352">Kafka</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51.9326" x="891.8193" y="626.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.9326" x="898.8193" y="646.5918">Kafka</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.9805" x="1100.0474" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.9805" x="1107.0474" y="70.5352">TelemetryService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.9805" x="1100.0474" y="626.0566"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.9805" x="1107.0474" y="646.5918">TelemetryService</text><polygon fill="#181818" points="335.4712,108.7988,345.4712,112.7988,335.4712,116.7988,339.4712,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="23.1826" x2="341.4712" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.1982" x="30.1826" y="108.0566">Request to add a module to a house</text><polygon fill="#181818" points="34.1826,138.1094,24.1826,142.1094,34.1826,146.1094,30.1826,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28.1826" x2="346.4712" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300.2886" x="40.1826" y="137.3672">Request confirmed (Module verification started)</text><polygon fill="#181818" points="905.7856,167.4199,915.7856,171.4199,905.7856,175.4199,909.7856,171.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="347.4712" x2="911.7856" y1="171.4199" y2="171.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.0522" x="354.4712" y="166.6777">Publishes event "module.added"</text><polygon fill="#181818" points="601.3867,196.7305,591.3867,200.7305,601.3867,204.7305,597.3867,200.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="595.3867" x2="916.7856" y1="200.7305" y2="200.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.2856" x="607.3867" y="195.9883">Consumes event "module.added"</text><line style="stroke:#181818;stroke-width:1.0;" x1="590.3867" x2="632.3867" y1="230.041" y2="230.041"/><line style="stroke:#181818;stroke-width:1.0;" x1="632.3867" x2="632.3867" y1="230.041" y2="243.041"/><line style="stroke:#181818;stroke-width:1.0;" x1="591.3867" x2="632.3867" y1="243.041" y2="243.041"/><polygon fill="#181818" points="601.3867,239.041,591.3867,243.041,601.3867,247.041,597.3867,243.041" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.1191" x="597.3867" y="225.2988">Verifies the house and access rights</text><path d="M534.5381,258.041 L596.6768,258.041 L596.6768,265.3516 L586.6768,275.3516 L534.5381,275.3516 L534.5381,258.041 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.8867" style="stroke:#000000;stroke-width:1.5;" width="419.2139" x="534.5381" y="258.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="549.5381" y="271.6094">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="230.4414" x="611.6768" y="270.6758">[House exists and user has permissions]</text><polygon fill="#181818" points="905.7856,292.6621,915.7856,296.6621,905.7856,300.6621,909.7856,296.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="590.3867" x2="911.7856" y1="296.6621" y2="296.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303.3989" x="597.3867" y="291.9199">Publishes event "module.verification.succeeded"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="534.5381" x2="953.752" y1="305.6621" y2="305.6621"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="277.374" x="539.5381" y="316.2969">[House does not exist or user lacks permissions]</text><polygon fill="#181818" points="905.7856,336.9277,915.7856,340.9277,905.7856,344.9277,909.7856,340.9277" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="590.3867" x2="911.7856" y1="340.9277" y2="340.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.1938" x="597.3867" y="336.1855">Publishes event "module.verification.failed"</text><polygon fill="#181818" points="358.4712,373.2383,348.4712,377.2383,358.4712,381.2383,354.4712,377.2383" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="352.4712" x2="916.7856" y1="377.2383" y2="377.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="501.4712" x="364.4712" y="372.4961">Consumes event "module.verification.succeeded" or "module.verification.failed"</text><path d="M284.5303,392.2383 L346.6689,392.2383 L346.6689,399.5488 L336.6689,409.5488 L284.5303,409.5488 L284.5303,392.2383 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="146.1973" style="stroke:#000000;stroke-width:1.5;" width="669.2217" x="284.5303" y="392.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="299.5303" y="405.8066">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136.6299" x="361.6689" y="404.873">[Verification successful]</text><line style="stroke:#181818;stroke-width:1.0;" x1="347.4712" x2="389.4712" y1="430.8594" y2="430.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="389.4712" x2="389.4712" y1="430.8594" y2="443.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.4712" x2="389.4712" y1="443.8594" y2="443.8594"/><polygon fill="#181818" points="358.4712,439.8594,348.4712,443.8594,358.4712,447.8594,354.4712,443.8594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.9155" x="354.4712" y="426.1172">Updates status to PENDING_INSTALL</text><polygon fill="#181818" points="905.7856,469.1699,915.7856,473.1699,905.7856,477.1699,909.7856,473.1699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="347.4712" x2="911.7856" y1="473.1699" y2="473.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.5186" x="354.4712" y="468.4277">Publishes event "module.installed"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="284.5303" x2="953.752" y1="482.1699" y2="482.1699"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109.146" x="289.5303" y="492.8047">[Verification failed]</text><line style="stroke:#181818;stroke-width:1.0;" x1="347.4712" x2="389.4712" y1="517.4355" y2="517.4355"/><line style="stroke:#181818;stroke-width:1.0;" x1="389.4712" x2="389.4712" y1="517.4355" y2="530.4355"/><line style="stroke:#181818;stroke-width:1.0;" x1="348.4712" x2="389.4712" y1="530.4355" y2="530.4355"/><polygon fill="#181818" points="358.4712,526.4355,348.4712,530.4355,358.4712,534.4355,354.4712,530.4355" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.9111" x="354.4712" y="512.6934">Updates status to PENDING_FAILED</text><polygon fill="#181818" points="1152.5376,562.7461,1162.5376,566.7461,1152.5376,570.7461,1156.5376,566.7461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="917.7856" x2="1158.5376" y1="566.7461" y2="566.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.752" x="924.7856" y="562.0039">Consumes event "module.installed"</text><line style="stroke:#181818;stroke-width:1.0;" x1="1164.5376" x2="1206.5376" y1="596.0566" y2="596.0566"/><line style="stroke:#181818;stroke-width:1.0;" x1="1206.5376" x2="1206.5376" y1="596.0566" y2="609.0566"/><line style="stroke:#181818;stroke-width:1.0;" x1="1165.5376" x2="1206.5376" y1="609.0566" y2="609.0566"/><polygon fill="#181818" points="1175.5376,605.0566,1165.5376,609.0566,1175.5376,613.0566,1171.5376,609.0566" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.3389" x="1171.5376" y="591.3145">Logs successful module installation</text><!--SRC=[hLEzJiCm4Dxz5ATECD07w81KqG8LeQhepufCV6ciEd7msHMyFRP3Iv8sT80iKPpxVdFXgTK6reI6iOeRArDPyTB21FSonIMQS6kz2RFdpfzujkEjanKgBD2QpyCu2rYukMspZ-05tnsI1Qk12m4S2YsSmlWCkNQ4h8K8587g1vdgCfEcG05NppLsZqPcCkLMwXB8UbiehazfekiHBDoRafGZ0UxHMn_K3eRU3ee1Ot7i87lqVQTBSaKVg35wWjn4TnvfSwmJ0YzzyZH58Z1ocrjYN5buZE_mGvAbEE92XJadgD0KaiZ78mR-wiXT2DQiPqZEws8qZShBrQ92UrIfRQqEVasYjkBfxb_LCovLb2v5e-ZEYlHKtHCZcFrLArIxQMs8YzLdJiKu9tlIiREk1BVUZLyiwoWiwc8wdypc3w-p-N8rJfBpB1TgaQNdK-hu7LeEQ-j_T7S_dYNJIQVgxd_QstR3NnTpdYVHMsfKU_YlltbYBlO5]--></g></svg>