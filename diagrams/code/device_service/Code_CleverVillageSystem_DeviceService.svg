<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1235px" preserveAspectRatio="none" style="width:2042px;height:1235px;background:#FFFFFF;" version="1.1" viewBox="0 0 2042 1235" width="2042px" zoomAndPan="magnify"><title>Device Service Code Architecture</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="237.7676" x="895.1162" y="23.5352">Device Service Code Architecture</text><!--cluster shared--><g id="cluster_shared"><path d="M8.5,43.4883 L58.6846,43.4883 A3.75,3.75 0 0 1 61.1846,45.9883 L68.1846,65.9766 L387.5,65.9766 A2.5,2.5 0 0 1 390,68.4766 L390,463.3383 A2.5,2.5 0 0 1 387.5,465.8383 L8.5,465.8383 A2.5,2.5 0 0 1 6,463.3383 L6,45.9883 A2.5,2.5 0 0 1 8.5,43.4883 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="68.1846" y1="65.9766" y2="65.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="49.1846" x="10" y="59.0234">shared</text></g><!--cluster service--><g id="cluster_service"><path d="M416.5,210.1983 L468.4961,210.1983 A3.75,3.75 0 0 1 470.9961,212.6983 L477.9961,232.6866 L1979.5,232.6866 A2.5,2.5 0 0 1 1982,235.1866 L1982,722.2383 A2.5,2.5 0 0 1 1979.5,724.7383 L416.5,724.7383 A2.5,2.5 0 0 1 414,722.2383 L414,212.6983 A2.5,2.5 0 0 1 416.5,210.1983 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="414" x2="477.9961" y1="232.6866" y2="232.6866"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="50.9961" x="418" y="225.7334">service</text></g><!--cluster repository--><g id="cluster_repository"><path d="M371.5,773.7383 L446.8955,773.7383 A3.75,3.75 0 0 1 449.3955,776.2383 L456.3955,796.2266 L1064.5,796.2266 A2.5,2.5 0 0 1 1067,798.7266 L1067,1226.0783 A2.5,2.5 0 0 1 1064.5,1228.5783 L371.5,1228.5783 A2.5,2.5 0 0 1 369,1226.0783 L369,776.2383 A2.5,2.5 0 0 1 371.5,773.7383 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="369" x2="456.3955" y1="796.2266" y2="796.2266"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="74.3955" x="373" y="789.2734">repository</text></g><!--cluster suppliers--><g id="cluster_suppliers"><path d="M1093.5,806.7183 L1161.752,806.7183 A3.75,3.75 0 0 1 1164.252,809.2183 L1171.252,829.2066 L2032.5,829.2066 A2.5,2.5 0 0 1 2035,831.7066 L2035,1193.0983 A2.5,2.5 0 0 1 2032.5,1195.5983 L1093.5,1195.5983 A2.5,2.5 0 0 1 1091,1193.0983 L1091,809.2183 A2.5,2.5 0 0 1 1093.5,806.7183 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1091" x2="1171.252" y1="829.2066" y2="829.2066"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="67.252" x="1095" y="822.2534">suppliers</text></g><!--class Container--><g id="elem_Container"><rect codeLine="4" fill="#F1F1F1" height="80.9766" id="Container" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="352.915" x="21.54" y="78.4883"/><ellipse cx="160.6445" cy="94.4883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M163.1176,100.6313 Q162.5366,100.9302 161.8974,101.0796 Q161.2583,101.229 160.5527,101.229 Q158.0459,101.229 156.726,99.5771 Q155.4062,97.9253 155.4062,94.8042 Q155.4062,91.6748 156.726,90.0229 Q158.0459,88.3711 160.5527,88.3711 Q161.2583,88.3711 161.9057,88.5205 Q162.5532,88.6699 163.1176,88.9688 L163.1176,91.6914 Q162.4868,91.1104 161.8933,90.8406 Q161.2998,90.5708 160.6689,90.5708 Q159.3242,90.5708 158.6394,91.6375 Q157.9546,92.7041 157.9546,94.8042 Q157.9546,96.896 158.6394,97.9626 Q159.3242,99.0293 160.6689,99.0293 Q161.2998,99.0293 161.8933,98.7595 Q162.4868,98.4897 163.1176,97.9087 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.2061" x="181.1445" y="99.7793">Container</text><line style="stroke:#181818;stroke-width:0.5;" x1="22.54" x2="373.455" y1="110.4883" y2="110.4883"/><ellipse cx="32.54" cy="124.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326.915" x="41.54" y="128.0234">ModuleLogicService: service.ModuleLogicService</text><ellipse cx="32.54" cy="140.7207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172.252" x="41.54" y="144.5117">AppSettings: AppSettings</text><line style="stroke:#181818;stroke-width:0.5;" x1="22.54" x2="373.455" y1="151.4648" y2="151.4648"/></g><!--class AppSettings--><g id="elem_AppSettings"><rect codeLine="9" fill="#F1F1F1" height="229.3711" id="AppSettings" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="239.3086" x="78.35" y="220.4683"/><ellipse cx="152.9062" cy="236.4683" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M155.3793,242.6113 Q154.7982,242.9102 154.1591,243.0596 Q153.5199,243.209 152.8144,243.209 Q150.3075,243.209 148.9877,241.5571 Q147.6679,239.9053 147.6679,236.7842 Q147.6679,233.6548 148.9877,232.0029 Q150.3075,230.3511 152.8144,230.3511 Q153.5199,230.3511 154.1674,230.5005 Q154.8148,230.6499 155.3793,230.9488 L155.3793,233.6714 Q154.7484,233.0904 154.1549,232.8206 Q153.5614,232.5508 152.9306,232.5508 Q151.5858,232.5508 150.901,233.6175 Q150.2162,234.6841 150.2162,236.7842 Q150.2162,238.876 150.901,239.9426 Q151.5858,241.0093 152.9306,241.0093 Q153.5614,241.0093 154.1549,240.7395 Q154.7484,240.4697 155.3793,239.8887 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.6963" x="173.4062" y="241.7593">AppSettings</text><line style="stroke:#181818;stroke-width:0.5;" x1="79.35" x2="316.6586" y1="252.4683" y2="252.4683"/><ellipse cx="89.35" cy="266.2124" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.2256" x="98.35" y="270.0034">DBHost: string</text><ellipse cx="89.35" cy="282.7007" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.3301" x="98.35" y="286.4917">DBUser: string</text><ellipse cx="89.35" cy="299.189" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.6348" x="98.35" y="302.98">DBPassword: string</text><ellipse cx="89.35" cy="315.6773" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.9092" x="98.35" y="319.4683">DBName: string</text><ellipse cx="89.35" cy="332.1655" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.2676" x="98.35" y="335.9566">DBPort: string</text><ellipse cx="89.35" cy="348.6538" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.7793" x="98.35" y="352.4448">DBSSLMode: string</text><ellipse cx="89.35" cy="365.1421" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.4502" x="98.35" y="368.9331">KafkaBroker: string</text><ellipse cx="89.35" cy="381.6304" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.8125" x="98.35" y="385.4214">ModuleAdditionTopic: string</text><ellipse cx="89.35" cy="398.1187" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.3086" x="98.35" y="401.9097">ModuleVerificationTopic: string</text><ellipse cx="89.35" cy="414.607" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.8232" x="98.35" y="418.398">KafkaGroupID: string</text><line style="stroke:#181818;stroke-width:0.5;" x1="79.35" x2="316.6586" y1="425.3511" y2="425.3511"/><ellipse cx="89.35" cy="439.0952" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.9004" x="98.35" y="442.8863">DSN(): string</text></g><!--class ModuleLogicService--><g id="elem_ModuleLogicService"><rect codeLine="25" fill="#F1F1F1" height="179.9063" id="ModuleLogicService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="665.7549" x="430.12" y="245.1983"/><ellipse cx="692.0731" cy="261.1983" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M694.5463,267.3413 Q693.9652,267.6402 693.3261,267.7896 Q692.6869,267.939 691.9813,267.939 Q689.4745,267.939 688.1547,266.2871 Q686.8348,264.6353 686.8348,261.5142 Q686.8348,258.3848 688.1547,256.7329 Q689.4745,255.0811 691.9813,255.0811 Q692.6869,255.0811 693.3344,255.2305 Q693.9818,255.3799 694.5463,255.6787 L694.5463,258.4014 Q693.9154,257.8204 693.3219,257.5506 Q692.7284,257.2808 692.0975,257.2808 Q690.7528,257.2808 690.068,258.3475 Q689.3832,259.4141 689.3832,261.5142 Q689.3832,263.606 690.068,264.6726 Q690.7528,265.7393 692.0975,265.7393 Q692.7284,265.7393 693.3219,265.4695 Q693.9154,265.1997 694.5463,264.6187 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.3486" x="712.5731" y="266.4893">ModuleLogicService</text><line style="stroke:#181818;stroke-width:0.5;" x1="431.12" x2="1094.8749" y1="277.1983" y2="277.1983"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="438.12" y="287.9424"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307.166" x="450.12" y="294.7334">persistenceService: ModulePersistenceService</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="438.12" y="304.4307"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304.0557" x="450.12" y="311.2217">messagingService: ExternalMessagingService</text><line style="stroke:#181818;stroke-width:1.0;" x1="431.12" x2="1094.8749" y1="318.1748" y2="318.1748"/><ellipse cx="441.12" cy="331.919" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385.3486" x="450.12" y="335.71">ProcessMessage(event: schemas.BaseEvent): (bool, error)</text><ellipse cx="441.12" cy="348.4073" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437.7939" x="450.12" y="352.1983">TurnOnModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="441.12" cy="364.8955" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="439.4004" x="450.12" y="368.6866">TurnOffModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="441.12" cy="381.3838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="639.7549" x="450.12" y="385.1748">GetModuleState(houseID: uuid.UUID, moduleID: uuid.UUID): *web_schemas.HouseModuleState</text><ellipse cx="441.12" cy="397.8721" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297.4863" x="450.12" y="401.6631">GetAllModules(): []web_schemas.ModuleOut</text><ellipse cx="441.12" cy="414.3604" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485.0098" x="450.12" y="418.1514">GetModulesByHouseID(houseID: uuid.UUID): []web_schemas.ModuleOut</text></g><!--class ModulePersistenceService--><g id="elem_ModulePersistenceService"><rect codeLine="37" fill="#F1F1F1" height="179.9063" id="ModulePersistenceService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="665.7549" x="430.12" y="528.8383"/><ellipse cx="671.9379" cy="544.8383" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M674.411,550.9813 Q673.83,551.2802 673.1908,551.4296 Q672.5516,551.579 671.8461,551.579 Q669.3392,551.579 668.0194,549.9271 Q666.6996,548.2753 666.6996,545.1542 Q666.6996,542.0248 668.0194,540.3729 Q669.3392,538.7211 671.8461,538.7211 Q672.5516,538.7211 673.1991,538.8705 Q673.8466,539.0199 674.411,539.3187 L674.411,542.0414 Q673.7802,541.4604 673.1867,541.1906 Q672.5931,540.9208 671.9623,540.9208 Q670.6176,540.9208 669.9327,541.9875 Q669.2479,543.0541 669.2479,545.1542 Q669.2479,547.246 669.9327,548.3126 Q670.6176,549.3793 671.9623,549.3793 Q672.5931,549.3793 673.1867,549.1095 Q673.7802,548.8397 674.411,548.2587 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.6191" x="692.4379" y="550.1293">ModulePersistenceService</text><line style="stroke:#181818;stroke-width:0.5;" x1="431.12" x2="1094.8749" y1="560.8383" y2="560.8383"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="438.12" y="571.5824"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273.4238" x="450.12" y="578.3734">repository: repository.ModuleRepository</text><line style="stroke:#181818;stroke-width:1.0;" x1="431.12" x2="1094.8749" y1="585.3266" y2="585.3266"/><ellipse cx="441.12" cy="599.0707" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297.4863" x="450.12" y="602.8617">GetAllModules(): []web_schemas.ModuleOut</text><ellipse cx="441.12" cy="615.559" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485.0098" x="450.12" y="619.35">GetModulesByHouseID(houseID: uuid.UUID): []web_schemas.ModuleOut</text><ellipse cx="441.12" cy="632.0473" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="639.7549" x="450.12" y="635.8383">GetModuleState(houseID: uuid.UUID, moduleID: uuid.UUID): *web_schemas.HouseModuleState</text><ellipse cx="441.12" cy="648.5355" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437.7939" x="450.12" y="652.3266">TurnOnModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="441.12" cy="665.0238" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="439.4004" x="450.12" y="668.8148">TurnOffModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="441.12" cy="681.5121" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549.9854" x="450.12" y="685.3031">AcceptAdditionModuleToHouse(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="441.12" cy="698.0004" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527.4678" x="450.12" y="701.7914">FailAdditionModuleToHouse(houseID: uuid.UUID, moduleID: uuid.UUID): error</text></g><!--class ExternalMessagingService--><g id="elem_ExternalMessagingService"><rect codeLine="49" fill="#F1F1F1" height="113.9531" id="ExternalMessagingService" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="835.0947" x="1130.45" y="561.8083"/><ellipse cx="1456.3499" cy="577.8083" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1458.823,583.9513 Q1458.242,584.2502 1457.6028,584.3996 Q1456.9637,584.549 1456.2581,584.549 Q1453.7513,584.549 1452.4314,582.8971 Q1451.1116,581.2453 1451.1116,578.1242 Q1451.1116,574.9948 1452.4314,573.3429 Q1453.7513,571.6911 1456.2581,571.6911 Q1456.9637,571.6911 1457.6111,571.8405 Q1458.2586,571.9899 1458.823,572.2887 L1458.823,575.0114 Q1458.1922,574.4304 1457.5987,574.1606 Q1457.0052,573.8908 1456.3743,573.8908 Q1455.0296,573.8908 1454.3448,574.9575 Q1453.66,576.0241 1453.66,578.1242 Q1453.66,580.216 1454.3448,581.2826 Q1455.0296,582.3493 1456.3743,582.3493 Q1457.0052,582.3493 1457.5987,582.0795 Q1458.1922,581.8097 1458.823,581.2287 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.7949" x="1476.8499" y="583.0993">ExternalMessagingService</text><line style="stroke:#181818;stroke-width:0.5;" x1="1131.45" x2="1964.5447" y1="593.8083" y2="593.8083"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1138.45" y="604.5524"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283.3086" x="1150.45" y="611.3434">supplier: suppliers.KafkaSupplierInterface</text><line style="stroke:#181818;stroke-width:1.0;" x1="1131.45" x2="1964.5447" y1="618.2966" y2="618.2966"/><ellipse cx="1141.45" cy="632.0407" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="718.9355" x="1150.45" y="635.8317">SendModuleAdditionEvent(ctx: context.Context, key: []byte, event: schemas.HomeVerificationEvent): error</text><ellipse cx="1141.45" cy="648.529" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="809.0947" x="1150.45" y="652.32">SendEquipmentStateChangeEvent(ctx: context.Context, key: []byte, event: schemas.ChangeEquipmentStateEvent): error</text><ellipse cx="1141.45" cy="665.0173" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="484.9961" x="1150.45" y="668.8083">ReadModuleVerificationEvent(ctx: context.Context): schemas.BaseEvent</text></g><!--class ModuleRepository--><g id="elem_ModuleRepository"><rect codeLine="59" fill="#F1F1F1" height="163.418" id="ModuleRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="665.7549" x="385.12" y="808.7383"/><ellipse cx="652.682" cy="824.7383" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M649.1097,821.0034 L649.1097,818.8452 L656.4891,818.8452 L656.4891,821.0034 L654.0238,821.0034 L654.0238,829.0801 L656.4891,829.0801 L656.4891,831.2383 L649.1097,831.2383 L649.1097,829.0801 L651.5751,829.0801 L651.5751,821.0034 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="122.1309" x="673.182" y="830.0293">ModuleRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="386.12" x2="1049.8749" y1="840.7383" y2="840.7383"/><line style="stroke:#181818;stroke-width:0.5;" x1="386.12" x2="1049.8749" y1="848.7383" y2="848.7383"/><ellipse cx="396.12" cy="862.4824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297.4863" x="405.12" y="866.2734">GetAllModules(): []web_schemas.ModuleOut</text><ellipse cx="396.12" cy="878.9707" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485.0098" x="405.12" y="882.7617">GetModulesByHouseID(houseID: uuid.UUID): []web_schemas.ModuleOut</text><ellipse cx="396.12" cy="895.459" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="639.7549" x="405.12" y="899.25">GetModuleState(houseID: uuid.UUID, moduleID: uuid.UUID): *web_schemas.HouseModuleState</text><ellipse cx="396.12" cy="911.9473" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437.7939" x="405.12" y="915.7383">TurnOnModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="396.12" cy="928.4355" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="439.4004" x="405.12" y="932.2266">TurnOffModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="396.12" cy="944.9238" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549.9854" x="405.12" y="948.7148">AcceptAdditionModuleToHouse(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="396.12" cy="961.4121" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527.4678" x="405.12" y="965.2031">FailAdditionModuleToHouse(houseID: uuid.UUID, moduleID: uuid.UUID): error</text></g><!--class GORMModuleRepository--><g id="elem_GORMModuleRepository"><rect codeLine="69" fill="#F1F1F1" height="163.418" id="GORMModuleRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="665.7549" x="385.12" y="1049.1583"/><ellipse cx="631.7299" cy="1065.1583" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M634.203,1071.3013 Q633.622,1071.6002 632.9828,1071.7496 Q632.3436,1071.899 631.6381,1071.899 Q629.1312,1071.899 627.8114,1070.2471 Q626.4916,1068.5953 626.4916,1065.4742 Q626.4916,1062.3448 627.8114,1060.6929 Q629.1312,1059.0411 631.6381,1059.0411 Q632.3436,1059.0411 632.9911,1059.1905 Q633.6386,1059.3399 634.203,1059.6387 L634.203,1062.3614 Q633.5721,1061.7804 632.9786,1061.5106 Q632.3851,1061.2408 631.7543,1061.2408 Q630.4096,1061.2408 629.7247,1062.3075 Q629.0399,1063.3741 629.0399,1065.4742 Q629.0399,1067.566 629.7247,1068.6326 Q630.4096,1069.6993 631.7543,1069.6993 Q632.3851,1069.6993 632.9786,1069.4295 Q633.5721,1069.1597 634.203,1068.5787 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.0352" x="652.2299" y="1070.4493">GORMModuleRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="386.12" x2="1049.8749" y1="1081.1583" y2="1081.1583"/><line style="stroke:#181818;stroke-width:1.0;" x1="386.12" x2="1049.8749" y1="1089.1583" y2="1089.1583"/><ellipse cx="396.12" cy="1102.9024" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297.4863" x="405.12" y="1106.6934">GetAllModules(): []web_schemas.ModuleOut</text><ellipse cx="396.12" cy="1119.3907" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485.0098" x="405.12" y="1123.1817">GetModulesByHouseID(houseID: uuid.UUID): []web_schemas.ModuleOut</text><ellipse cx="396.12" cy="1135.879" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="639.7549" x="405.12" y="1139.67">GetModuleState(houseID: uuid.UUID, moduleID: uuid.UUID): *web_schemas.HouseModuleState</text><ellipse cx="396.12" cy="1152.3673" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437.7939" x="405.12" y="1156.1583">TurnOnModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="396.12" cy="1168.8555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="439.4004" x="405.12" y="1172.6466">TurnOffModule(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="396.12" cy="1185.3438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549.9854" x="405.12" y="1189.1348">AcceptAdditionModuleToHouse(houseID: uuid.UUID, moduleID: uuid.UUID): error</text><ellipse cx="396.12" cy="1201.8321" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527.4678" x="405.12" y="1205.6231">FailAdditionModuleToHouse(houseID: uuid.UUID, moduleID: uuid.UUID): error</text></g><!--class KafkaSupplierInterface--><g id="elem_KafkaSupplierInterface"><rect codeLine="82" fill="#F1F1F1" height="97.4648" id="KafkaSupplierInterface" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="911.8623" x="1107.07" y="841.7183"/><ellipse cx="1482.3801" cy="857.7183" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1478.8078,853.9834 L1478.8078,851.8252 L1486.1872,851.8252 L1486.1872,853.9834 L1483.7219,853.9834 L1483.7219,862.0601 L1486.1872,862.0601 L1486.1872,864.2183 L1478.8078,864.2183 L1478.8078,862.0601 L1481.2731,862.0601 L1481.2731,853.9834 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="152.7422" x="1502.8801" y="863.0093">KafkaSupplierInterface</text><line style="stroke:#181818;stroke-width:0.5;" x1="1108.07" x2="2017.9323" y1="873.7183" y2="873.7183"/><line style="stroke:#181818;stroke-width:0.5;" x1="1108.07" x2="2017.9323" y1="881.7183" y2="881.7183"/><ellipse cx="1118.07" cy="895.4624" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="745.6982" x="1127.07" y="899.2534">SendMessageToAdditionTopic(ctx: context.Context, key: []byte, event: schemas.HomeVerificationEvent): error</text><ellipse cx="1118.07" cy="911.9507" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="885.8623" x="1127.07" y="915.7417">SendMessageToEquipmentChangeStateTopic(ctx: context.Context, key: []byte, event: schemas.ChangeEquipmentStateEvent): error</text><ellipse cx="1118.07" cy="928.439" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="455.2734" x="1127.07" y="932.23">ReadModuleVerificationTopic(ctx: context.Context): kafka.Message</text></g><!--class KafkaSupplier--><g id="elem_KafkaSupplier"><rect codeLine="88" fill="#F1F1F1" height="97.4648" id="KafkaSupplier" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="911.8623" x="1107.07" y="1082.1383"/><ellipse cx="1512.048" cy="1098.1383" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1514.5212,1104.2813 Q1513.9401,1104.5802 1513.301,1104.7296 Q1512.6618,1104.879 1511.9562,1104.879 Q1509.4494,1104.879 1508.1296,1103.2271 Q1506.8097,1101.5753 1506.8097,1098.4542 Q1506.8097,1095.3248 1508.1296,1093.6729 Q1509.4494,1092.0211 1511.9562,1092.0211 Q1512.6618,1092.0211 1513.3093,1092.1705 Q1513.9567,1092.3199 1514.5212,1092.6187 L1514.5212,1095.3414 Q1513.8903,1094.7604 1513.2968,1094.4906 Q1512.7033,1094.2208 1512.0724,1094.2208 Q1510.7277,1094.2208 1510.0429,1095.2875 Q1509.3581,1096.3541 1509.3581,1098.4542 Q1509.3581,1100.546 1510.0429,1101.6126 Q1510.7277,1102.6793 1512.0724,1102.6793 Q1512.7033,1102.6793 1513.2968,1102.4095 Q1513.8903,1102.1397 1514.5212,1101.5587 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93.4063" x="1532.548" y="1103.4293">KafkaSupplier</text><line style="stroke:#181818;stroke-width:0.5;" x1="1108.07" x2="2017.9323" y1="1114.1383" y2="1114.1383"/><line style="stroke:#181818;stroke-width:1.0;" x1="1108.07" x2="2017.9323" y1="1122.1383" y2="1122.1383"/><ellipse cx="1118.07" cy="1135.8824" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="745.6982" x="1127.07" y="1139.6734">SendMessageToAdditionTopic(ctx: context.Context, key: []byte, event: schemas.HomeVerificationEvent): error</text><ellipse cx="1118.07" cy="1152.3707" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="885.8623" x="1127.07" y="1156.1617">SendMessageToEquipmentChangeStateTopic(ctx: context.Context, key: []byte, event: schemas.ChangeEquipmentStateEvent): error</text><ellipse cx="1118.07" cy="1168.859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="455.2734" x="1127.07" y="1172.65">ReadModuleVerificationTopic(ctx: context.Context): kafka.Message</text></g><!--link ModuleLogicService to ModulePersistenceService--><g id="link_ModuleLogicService_ModulePersistenceService"><path codeLine="96" d="M763,425.2583 C763,458.2983 763,489.7483 763,522.7783 " fill="none" id="ModuleLogicService-to-ModulePersistenceService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="763,528.7783,767,519.7783,763,523.7783,759,519.7783,763,528.7783" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="764" y="495.4066">uses</text></g><!--link ModuleLogicService to ExternalMessagingService--><g id="link_ModuleLogicService_ExternalMessagingService"><path codeLine="97" d="M1012.19,425.5483 C1136.23,470.0583 1276.7525,520.472 1385.0625,559.332 " fill="none" id="ModuleLogicService-to-ExternalMessagingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1390.71,561.3583,1383.5896,554.5539,1386.0037,559.6697,1380.8879,562.0839,1390.71,561.3583" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1203.5" y="495.4066">uses</text></g><!--link ModulePersistenceService to ModuleRepository--><g id="link_ModulePersistenceService_ModuleRepository"><path codeLine="98" d="M748.08,709.2083 C742.73,741.2483 737.7273,771.2501 732.5073,802.5401 " fill="none" id="ModulePersistenceService-to-ModuleRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="731.52,808.4583,736.9464,800.2392,732.3428,803.5264,729.0555,798.9228,731.52,808.4583" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="742.85" y="754.3066">uses</text></g><!--reverse link ModuleRepository to GORMModuleRepository--><g id="link_ModuleRepository_GORMModuleRepository"><path codeLine="99" d="M718,990.4983 C718,1015.2083 718,1024.3583 718,1049.0483 " fill="none" id="ModuleRepository-backto-GORMModuleRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="718,972.4983,712,990.4983,724,990.4983,718,972.4983" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.0137" x="719" y="1015.7266">implements</text></g><!--link ExternalMessagingService to KafkaSupplierInterface--><g id="link_ExternalMessagingService_KafkaSupplierInterface"><path codeLine="100" d="M1551.13,675.9883 C1553.85,724.9183 1557.4165,789.0976 1559.9965,835.4476 " fill="none" id="ExternalMessagingService-to-KafkaSupplierInterface" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1560.33,841.4383,1563.8236,832.2299,1560.0521,836.446,1555.836,832.6745,1560.33,841.4383" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28.5645" x="1556.5" y="754.3066">uses</text></g><!--reverse link KafkaSupplierInterface to KafkaSupplier--><g id="link_KafkaSupplierInterface_KafkaSupplier"><path codeLine="101" d="M1563,957.4083 C1563,998.8883 1563,1040.5383 1563,1081.9883 " fill="none" id="KafkaSupplierInterface-backto-KafkaSupplier" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1563,939.4083,1557,957.4083,1569,957.4083,1563,939.4083" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.0137" x="1564" y="1015.7266">implements</text></g><!--link Container to ModuleLogicService--><g id="link_Container_ModuleLogicService"><path codeLine="103" d="M303.28,159.8883 C366.33,183.7883 443.5397,213.0512 521.4797,242.6012 " fill="none" id="Container-to-ModuleLogicService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="527.09,244.7283,520.0926,237.7975,522.4147,242.9557,517.2565,245.2779,527.09,244.7283" style="stroke:#181818;stroke-width:1.0;"/></g><!--link Container to AppSettings--><g id="link_Container_AppSettings"><path codeLine="104" d="M198,159.7583 C198,177.1783 198,192.5983 198,214.3783 " fill="none" id="Container-to-AppSettings" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="198,220.3783,202,211.3783,198,215.3783,194,211.3783,198,220.3783" style="stroke:#181818;stroke-width:1.0;"/></g><!--SRC=[xLXDRnen4Btlhx1o8ctW1w2g4eGqH4q2Og6NggeSxm0Mk-kjxKr0RVvxlFO2DjXK3Vqwm8N5utblF1w_CIkfJ07ru94IG35m_Nt94a0TJkPK0f4bXoWgC5dW6Q0pCSSSaZFqFKBgGr8iX9gVIqnpuFLezNcBxbXIfd3BPfJKm6qap4DhtsOvTeeY1YbfFXDj-uUUyXnPn9RHeUvr-qn8HIUviZc6YGh1QnWgm2V64w_n7cVWzsBSpnF7jsgHFgUFUBh0NSuMta1CPZf9GYLb-PWLb0HdVG9EfvJWGpCrspLdPN7JymKQtpVEdV7dwDdURhCxxdxlxvwL_IOgW0ig9EG4DXjlN8Px5iij0o7mJ8MnSRfQIk0vJkzsB5kdfhMK8MT4JJIJeG6Fa5TRG-QGOT7gOW5NrP1QRUE1iVG20UUCdri8uvBdWzo4sfYpKa2LixAaIMiokUbTe4oRd445ft5sOQRJet6kGHgCM6BvAq1ldk3XwthX_ShDmd49EcbgRA8gWyzVR4zZ69JI5vFehlec84zWFu5opd2eCfoIub0mGINZgxRrNCEEDWF-mlXNo_nBk_YVLMs742ZaMi0Ct9Zf-8z0_O1f-limdG8CgOnJWA8iYfHgnQwVH4jBQrp_lCaLoXI7n2c6F76bNOjHWyXb6n7LFs4fMvVc-m8jO5MLriDAWf8fLyZwB7E4Vorgknch6A- -bRJ8b5tNpEKSvpDuBM_jxI26k4U0a_qM5MO-z-YqfnbjJ_ww7z5rrj6k53ZtWPC2d1JWW09S3qPt1-hdr4nEfNImb9mByxezx4kKlryuGgNRXBd0Zfdp9-0FTueDwKRWZTxh-dXj0CUtZ32pWbXK-MpLaU-VQYVTeUDyIlYH2LSfz_mTR3RVXo_swY09426tu7NCSVF0RZaj5NUShF5tFvfDl-wt4SsA5AhyYIWOJ4KMECyrPS2gYTtIT1YZxSkKxOAS5oNk1Flzo0i0]--></g></svg>