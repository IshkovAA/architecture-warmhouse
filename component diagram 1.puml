@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

title Уровень компонентов для микросервиса "Управление устройствами"

Container(device_management, "Управление устройствами", "Управление отоплением, освещением, воротами и другими устройствами.") {
    Component(api, "API", "Обработка HTTP-запросов (если требуется).")
    Component(kafka_client, "Kafka Client", "Чтение и запись событий в Kafka.")
    Component(command_handler, "Обработчик команд", "Обработка команд управления устройствами.")
    Component(device_state_manager, "Менеджер состояния устройств", "Управление состоянием устройств.")
}

' Взаимодействие между компонентами
Rel(api, kafka_client, "Отправка команд в Kafka (если требуется).")
Rel(kafka_client, command_handler, "Передача команд из Kafka.")
Rel(command_handler, device_state_manager, "Обновление состояния устройств.")
Rel(device_state_manager, kafka_client, "Отправка событий о состоянии устройств в Kafka.")

@enduml