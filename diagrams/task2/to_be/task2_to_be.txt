В решение to be разбиваем монолит на микросервисы, функционал системы:
Микросервисы:
-Сервис пользователей
    Пользователь -> Дом | one to many
-Сервис отопления
    Задать температуру, узнать текущую, сценарий на поддержание заданной температуры по расписанию
-Сервис освещения
    Включить/выключить свет, сценарий на вкл/выкл по расписанию
-Сервис ворот
    Открытие, закрытие ворот, сценарий на откр/закр по расписанию
-Сервис видеонаблюдения
    Стриминг, хранение/просмотр видео
Все обращение пользователя идут через Api Gateway по REST, от фронта. Kafka не используется.
Каждый микросервис имеет свою собственную БД.
Взаимодействия между микросервисами нету. Каждый микросервис имеет свои сценарии,
запуск сценариев микросервиса по расписанию.
